"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[9203],{67074:(e,s,o)=>{o.r(s),o.d(s,{default:()=>ep});var r={};o.r(r),o.d(r,{relatedIllustrations:()=>er,seeAll:()=>et});var t=o(65723),l=o(79846),a=o(31081),n=o(17001),d=o(71761),i=o(63065),m=o(3297),u=o(70430),c=o(93931),p=o(79116),h=o(61836),j=o(25150),v=o(3195),x=o(82136),y=o(2488),k=o(70621),g=o(93215),I=o(38921),b=o(14719),f=o(37723),w=o(21239),F=o(48752);let T=e=>(0,F.d)(s=>b.Jt(s.photoSearchRelatedIllustrations,e),(e,s)=>w.nZ(f.w_).equals(e,s));var A=o(90214),N=o(63454),B=o(87867),C=o(6723),P=o(18745),q=o(51781),M=o(28327),R=o(96056),S=o(75647),E=o(41330),D=o(29966),W=o(99359),O=o(26237),J=o(22155),L=o(4055),U=o(99840),z=o(46819),V=o(25094),_=o(72270),Y=o(66988),G=o(87218),Q=o(28556),Z=o(86762),$=o(4935),X=o(51603),H=o(23184),K=o(26898),ee=o(36981),es=o(29597);o(68684);var eo=o(92435);o(3302);let er=()=>"Related illustrations",et=()=>"See all",el=e=>r,ea=()=>{let{locale:e}=(0,eo.r)();return el(e)},en={width:352,height:367},ed=({routeData:e,relatedIllustrations:s})=>{let o=ea(),r=(0,$.w)(),l=(0,J.useCallback)(e=>{r(V.rc.mk.Track(E.Jh.mk.IllustrationsPromptClick({promptId:"related-illustrations",placement:ee.keywordSearchPlacement,clickedItem:e})))},[]);return(0,t.jsxs)("div",{className:"tyIqR",children:[(0,t.jsxs)("header",{className:"QbUxg",children:[(0,t.jsx)("h4",{className:"MAR0F EJRqz",children:o.relatedIllustrations()}),(0,t.jsx)(G.W,{to:K.B_.Union.mk.Search({filters:H.NT,subRoute:B.iB.mk.Illustrations,query:e.query}),onClick:e=>l("see-all"),className:"US53k",children:(0,t.jsx)("h4",{children:o.seeAll()})})]}),(0,t.jsx)(v.h,{height:16}),(0,t.jsx)("div",{className:"syegT",children:(0,D.Fs)(s,W.Tj(e=>(0,t.jsx)(Y.A,{assetRoute:K.iW.mk.Illustrations({slug:e.slug}),feedIndexOption:w.dv,feedPlacement:w.dv,onClick:e=>l("illustration"),children:(0,t.jsx)(_.r,{aspectRatio:(0,Z.x5)(en),responseOption:w.zN((0,Q.nk)({baseUrl:e.urls.raw,maxDisplayDimensions:en})),placeholderConfig:X.fT,containerClassName:"EgITJ"})},(0,es.l1)(e.slug))))})]})},ei=e=>{let s=(0,F.d)(C._g),o=(0,I.M)(()=>e.some(P.oq)),r=(0,F.d)(C.D6);return s&&!1===o&&!1===r},em=({photos:e,feedTotal:s})=>{let o=ei(e);return(0,A.v)()||o&&s>=20},eu=[{List:2,Masonry:{TwoColumns:{column:1,row:0},ThreeColumns:{column:2,row:0}}},{List:u.vN({cols:1,perPage:N.dP,pagesBefore:1,adsAbove:1,promptsAbove:1}),Masonry:{TwoColumns:{column:0,row:u.vN({cols:2,perPage:N.dP,pagesBefore:1,adsAbove:0,promptsAbove:1})},ThreeColumns:{column:0,row:u.vN({cols:3,perPage:N.dP,pagesBefore:1,adsAbove:0,promptsAbove:1})}}},{List:u.vN({cols:1,perPage:N.dP,pagesBefore:2,adsAbove:2,promptsAbove:1}),Masonry:{TwoColumns:{column:1,row:u.vN({cols:2,perPage:N.dP,pagesBefore:2,adsAbove:1,promptsAbove:1})},ThreeColumns:{column:2,row:u.vN({cols:3,perPage:N.dP,pagesBefore:2,adsAbove:1,promptsAbove:1})}}}],ec=({photos:e,feedTotal:s,positionedItems:o,routeData:r})=>{let{filters:n,query:d}=r,i=S.Z.mk.SearchInFeed({keyword:d}),m=em({photos:e,feedTotal:s}),c=(0,g.y)({condition:m,initialValue:U.Vh,observable$:l.no({adType:i,count:3})}),p=(0,J.useMemo)(()=>e=>E.W.Feed.mk.Search({ad:P.oq(e),searchSource:w.st(e.searchSource),keywords:d,safety:!1,orderBy:n.orderBy,orientation:n.orientation,license:n.license,user:w.dv}),[n.orderBy,n.orientation,d,n.license]),j=(0,J.useMemo)(()=>(0,D.Fs)(o,W.u2((0,D.Fs)(c,w.YW(()=>[],e=>(0,D.Fs)(eu,W.Tj((s,o)=>{let r=(0,D.Fs)(e,U.Tj(w.qI(W.Jt(o))),a.Gk);return{positions:s,key:`in-feed-direct-ad-${O.oB(o)}`,element:(0,t.jsx)(u.dj,{adRequest:r,adType:i})}})))))),[c,i,o]);return(0,t.jsx)(h.B,{photos:e,mkFeedPlacement:p,positionedItems:j,userLinkPlacement:y.vG.SearchFeed})},ep=(0,J.memo)(({routeData:e,assetType:s})=>{let o=(0,N.Qy)(e),r=(0,j.yW)(),l=B.Xx(e.subRoute),a=s=>(0,t.jsxs)(m.A,{...k.D_,children:[(0,t.jsx)(d.E,{}),(0,t.jsx)("div",{className:R.zV,children:(0,t.jsx)(z.j,{placement:s,routeData:e,numberOfImages:N.BO})}),(0,t.jsx)("div",{className:R.ET,children:(0,t.jsx)(z.j,{placement:s,routeData:e,numberOfImages:N.IE})})]}),u=(0,J.useMemo)(M.jM,[]),h=(0,F.d)(s=>u(s,{queryData:r,query:e.query}))&&!1===l,y=(0,J.useMemo)(q.vV,[]),g=(0,F.d)(e=>y(e,o)),I=(0,J.useMemo)(()=>(0,N.SC)(s)(e),[s,e]),b=T(e.query),f=B.DN(e.subRoute)?(0,D.Fs)(b,w.Tj(W.YW({onEmpty:()=>[],onNonEmpty:s=>[{positions:{List:3,Masonry:{TwoColumns:{column:1,row:1},ThreeColumns:{column:2,row:1}}},key:"related-illustrations-prompt",element:(0,t.jsx)(ed,{relatedIllustrations:s,routeData:e})}]}))):w.zN([]);return(0,t.jsx)("div",{"data-testid":L.pU,children:(0,D.Fs)(f,w.YW(()=>(0,t.jsx)(p.d,{}),s=>(0,t.jsx)(x.m,{photos:g,feedId:o,feedDataFetcher:I,shouldRequireInfiniteScrollOptIn:h,renderEmpty:()=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.A,{type:"photos"}),h&&a(n.Il.mk.BottomFeedEmpty)]}),renderFooter:({isEmpty:e})=>(0,t.jsxs)(t.Fragment,{children:[h&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v.h,{height:{xxs:50,sm:105}}),e?a(n.Il.mk.BottomFeedEmpty):a(n.Il.mk.BottomFeed)]}),(0,t.jsx)(c.A,{})]}),children:({items:o,total:r})=>(0,t.jsx)(ec,{photos:o,positionedItems:s,routeData:e,feedTotal:r})})))})})}}]);