"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[9578],{13674:(e,t,s)=>{s.d(t,{Kt:()=>eB.Kt,B9:()=>te,KT:()=>eB.KT});var n={};s.r(n),s.d(n,{clear:()=>D,recentSearches:()=>P,trendingCollections:()=>I,trendingSearches:()=>H,trendingTopics:()=>J});var r={};s.r(r),s.d(r,{formAccessibilityLabel:()=>ez,keywordFullLengthPlaceholder:()=>e$,keywordSearchButtonTitle:()=>eA,keywordShortPlaceholder:()=>eZ,profilePlaceholder:()=>eX,visualPlaceholder:()=>eG});var i=s(65723),a=s(25094),l=s(29117),c=s(37981),o=s(72270),d=s(3294),h=s(22155),u=s(95424),m=s(31325),g=s(3195),T=s(7268),j=s(68634),p=s(29966),S=s(99359),k=s(29597),F=s(87735),x=s(61671),C=s(21239);let y=({thumbnail:e,isHighlighted:t,children:s})=>(0,i.jsxs)("div",{className:(0,j.Ly)("d0fuK",t&&"OEAR9"),children:[(0,p.Fs)(e,x.k$,C.f3(e=>(0,i.jsx)(F.V,{...e,width:38}))),(0,i.jsx)("div",{className:"tQoed",children:s})]}),w=({IconComponent:e,children:t,...s})=>(0,i.jsxs)(y,{...s,children:[(0,i.jsx)(e,{className:"FN8Lf"}),(0,i.jsx)(g.h,{width:8}),t]}),R=(0,h.memo)(({topic:e,...t})=>(0,i.jsx)(y,{...t,thumbnail:(0,p.Fs)(e.cover_photo,C.Tj(e=>({photoOption:C.zN(e)})),C.Sg),children:e.title})),f=(0,h.memo)(({collection:e,...t})=>(0,i.jsx)(y,{...t,children:e.title}));var N=s(3810),b=s(41330),v=s(8780);let K=v.vt(),{mk:Q,match:_,matchW:V,matchX:B,matchXW:E}=K,Y=K.match({RelatedQuery:l.uY,RecentSearch:p.D_,TrendingSearch:p.D_,TrendingTopic:(0,p.L3)(e=>e.slug,k.l1),TrendingCollection:e=>e.id}),L=K.matchX({RelatedQuery:!0,RecentSearch:!0,TrendingSearch:!0,TrendingTopic:!1,TrendingCollection:!1}),O=K.matchX({RelatedQuery:b.Jh.mk.SearchRelatedQueryClicked,RecentSearch:b.Jh.mk.RecentSearchClicked,TrendingSearch:b.Jh.mk.TrendingSearchClicked,TrendingTopic:b.Jh.mk.SearchTrendingTopicClicked,TrendingCollection:b.Jh.mk.SearchTrendingCollectionClicked});s(68684);var W=s(92435);s(3302);let D=()=>"Clear",P=()=>"Recent Searches",I=()=>"Trending Collections",H=()=>"Trending Searches",J=()=>"Trending Topics",M=e=>n,U=()=>{let{locale:e}=(0,W.r)();return M(e)},q={container:"k5QeY",suggestionsContainer:"zd559"},z=({className:e,children:t})=>(0,i.jsx)("div",{className:(0,j.Ly)(e,"TBluR jMEVq"),children:t}),$=({children:e})=>(0,i.jsx)("span",{className:"rNEiI R6ToQ",children:e}),A=e=>({section:t,containerProps:s,children:n})=>{let{key:r,...a}=s;return(0,p.Fs)(t,N.wn.match({RelatedQueries:()=>(0,h.createElement)("div",{...a,key:r,className:(0,j.Ly)(a.className,"jMEVq")},n),RecentSearches:()=>(0,i.jsxs)(z,{...a,children:[(0,i.jsxs)("div",{className:"J4OYR",children:[(0,i.jsx)($,{children:e.recentSearches()}),(0,i.jsx)(g.h,{width:4})," Â· ",(0,i.jsx)(g.h,{width:4}),(0,i.jsx)(m.A,{type:"button",onClick:()=>u.Ho(),className:"oS11D jhw7y",children:e.clear()})]}),(0,i.jsx)(g.h,{height:8}),n]},r),TrendingSearches:()=>(0,i.jsxs)(z,{...a,children:[(0,i.jsx)($,{children:e.trendingSearches()}),(0,i.jsx)(g.h,{height:8}),n]},r),TrendingCollections:()=>(0,i.jsxs)(z,{...a,children:[(0,i.jsx)($,{children:e.trendingCollections()}),(0,i.jsx)(g.h,{height:8}),n]},r),TrendingTopics:()=>(0,i.jsxs)(z,{...a,children:[(0,i.jsx)($,{children:e.trendingTopics()}),(0,i.jsx)(g.h,{height:8}),n]},r)}))},Z=(e,{isHighlighted:t})=>K.match({RelatedQuery:({query:e})=>(0,i.jsx)(l.V0,{shouldHighlight:t,children:e}),RecentSearch:e=>(0,i.jsx)(y,{isHighlighted:t,children:e}),TrendingSearch:e=>(0,i.jsx)(w,{IconComponent:T.fL,isHighlighted:t,children:e}),TrendingCollection:e=>(0,i.jsx)(f,{isHighlighted:t,collection:e}),TrendingTopic:e=>(0,i.jsx)(R,{isHighlighted:t,topic:e})})(e),X=N.wn.match({RelatedQueries:S.Tj(K.mk.RelatedQuery),RecentSearches:S.Tj(K.mk.RecentSearch),TrendingSearches:S.Tj(K.mk.TrendingSearch),TrendingCollections:S.Tj(K.mk.TrendingCollection),TrendingTopics:S.Tj(K.mk.TrendingTopic)}),G=K.match({RelatedQuery:l.uY,RecentSearch:p.D_,TrendingSearch:p.D_,TrendingCollection:e=>e.id,TrendingTopic:(0,p.L3)(e=>e.slug,k.l1)}),ee=e=>null,et=(0,h.memo)(({autosuggestRef:e,onSuggestionSelected:t,inputValue:s,onChange:n,theme:r,sections:a,placeholder:c,title:o,name:u,testId:m,required:g,...T})=>{let j=U(),p=(0,h.useMemo)(()=>A(j),[j]),S=(0,h.useMemo)(()=>({type:"search",name:u,placeholder:c,title:o,className:d.KO(r),style:{WebkitAppearance:"none"},"data-testid":m,autoCapitalize:"none",spellCheck:!1,value:s,onChange:n,required:g}),[r,u,c,o,m,s,n,g]);return(0,i.jsx)(l.pd,{suggestions:a,focusInputOnSuggestionClick:!1,autosuggestRef:e,multiSection:!0,renderSectionTitle:ee,getSectionSuggestions:X,renderSuggestion:Z,renderSectionContainer:p,getSuggestionValue:G,onSuggestionSelected:t,inputProps:S,suggestionContainerPositionClassName:l.PC(),theme:q,...T})});var es=s(103),en=s(11827),er=s(39024),ei=s(4935),ea=s(69720);let el=()=>{let e=(0,h.useRef)();return(0,h.useEffect)(()=>{void 0!==e.current&&(e.current(),e.current=void 0)}),(0,h.useCallback)(t=>{e.current=t},[])};var ec=s(48752),eo=s(80315),ed=s(66556),eh=s(1825),eu=s(81095),em=s(42249),eg=s(63527),eT=s(94508),ej=s(70297),ep=s(51603),eS=s(13876),ek=s(26898),eF=s(3771),ex=s(67208),eC=s(59331),ey=s(23819),ew=s(31235),eR=s(1511),ef=s(34342),eN=s(11421),eb=s(67088),ev=s(77956),eK=s(5540),eQ=s(27614),e_=s(79689),eV=s(15829),eB=s(89263),eE=s(49360),eY=s(11464);let eL=({theme:e})=>(0,i.jsx)(eY.e,{triggerClassName:d.El,triggerChildren:(0,i.jsx)(T.MN,{className:d.Gw(e)})}),eO=(0,h.forwardRef)(({variant:e,children:t,className:s,onClear:n,shouldRenderClearButton:r,...a},l)=>{let c=(0,ed.Y0)(),o=(0,ed.SO)(),h=(0,eB.p8)(e),{shouldShowVisualSearch:u}=(0,W.r)();return(0,i.jsxs)("form",{ref:l,className:(0,j.Ly)(d.m(h),"o7UjM",(0,p.Fs)(e,eB.KT.match({Nav:(0,p.dY)("PnkfC jhw7y"),HomepageHeader:(0,p.dY)(null)})),s),...a,children:[t,(0,p.Fs)([C.SQ(r)(()=>(0,i.jsx)(d.k2,{theme:h,onClick:n})),(0,p.Fs)(o,C.pb(()=>(0,p.Fs)(c,C.t2(ej.YK),ex.Uo(u))),C.Tj(()=>(0,i.jsx)(eL,{theme:h})))],(0,eE.fk)("items"),(0,eE.K0)(e=>(0,i.jsx)("div",{className:d.z3},e)))]})});var eW=s(83492),eD=s(47286),eP=s(77191),eI=s(50266);let eH=({formWidthOption$:e,recentSearches$:t,defaultSuggestions$:s,trendingCollectionsOption$:n})=>(0,p.Fs)(e,ev.pb(e=>e>=400),ev.HZ(()=>(0,p.Fs)(s,eQ.nx(e=>(0,p.Fs)(n,eQ.Tj(eW.Fu(e)))))),ev.nx(([e,s])=>(0,p.Fs)(t,eQ.Tj(t=>(0,p.Fs)([(0,p.Fs)(t,x.VW(S.EI),C.Tj(N.wn.mk.RecentSearches)),(0,p.Fs)(e.trendingSearches,C.pb(S.EI),C.Tj(N.wn.mk.TrendingSearches)),(0,p.Fs)(e.trendingTopics,C.pb(S.EI),C.Tj(N.wn.mk.TrendingTopics)),(0,p.Fs)(s,C.pb(S.EI),C.Tj(N.wn.mk.TrendingCollections))],eb.oE,x.VW(S.EI)))))),eJ=({suggestionsQueryOption$:e})=>(0,p.Fs)(l.ce(e),eI.Tj(N.wn.mk.RelatedQueries),eD.Tj(eQ.ql(C.dv))),eM=({suggestionsQueryOption$:e,formWidthOption$:t,recentSearches$:s,defaultSuggestions$:n,trendingCollectionsOption$:r})=>(0,p.Fs)(e,eQ.oH(e=>e._tag),eP.K_,eP.nx(e=>{switch(e.key){case"None":return(0,p.Fs)(eH({formWidthOption$:t,recentSearches$:s,defaultSuggestions$:n,trendingCollectionsOption$:r}),eP.K_);case"Some":return(0,p.Fs)(eJ({suggestionsQueryOption$:e}),eI.Tj(S.of))}}),eP.Tj(C.ak(()=>[]))),eU=e=>(0,p.Fs)(eJ({suggestionsQueryOption$:e}),eD.Tj(eQ.Tj(C.$w(()=>[],S.of)))),eq=({modeTag$:e,suggestionsQueryOption$:t,formWidthOption$:s,recentSearches$:n,defaultSuggestions$:r,trendingCollectionsOption$:i})=>(0,p.Fs)(eD.CO(eU(t),eM({formWidthOption$:s,suggestionsQueryOption$:t,recentSearches$:n,defaultSuggestions$:r,trendingCollectionsOption$:i})),eD.Tj(([t,s])=>(0,p.Fs)(e,eQ.ZZ(e=>{switch(e){case"Visual":return t;case"Keyword":return s}})))),ez=()=>"Find visuals sitewide",e$=()=>"Search photos and illustrations",eA=()=>"Search Unsplash",eZ=()=>"Search images",eX=e=>`Search ${e.username}'s profile`,eG=()=>"Filter by keyword",e0=e=>r,e1=()=>{let{locale:e}=(0,W.r)();return e0(e)},e3=(0,p.L3)(e0,e=>eB.Kt.match({Visual:()=>e.visualPlaceholder,Keyword:t=>(0,p.Fs)(t,C.YW(()=>(0,p.L3)(C.WL((0,p.dY)(ej.mk.Desktop)),ej.YK,ex.YW({onTrue:e.keywordFullLengthPlaceholder,onFalse:e.keywordShortPlaceholder})),t=>()=>e.profilePlaceholder({username:eV.Ne.encode(t)})))})),e2=({theme:e,...t})=>{let s=e1();return(0,i.jsx)("button",{...t,title:s.keywordSearchButtonTitle(),className:d.El,type:"submit",children:(0,i.jsx)(T.WI,{className:d.LB(e)})})},e8={x:48,y:31},e9=({responseOption:e,aspectRatio:t,onClose:s,imgContainerWidth:n,textO:r})=>(0,i.jsxs)("div",{className:"B1_lk",children:[(0,i.jsx)(o.r,{containerStyle:{width:n},containerClassName:"spQQw",className:"T3cyQ",aspectRatio:t,responseOption:e,placeholderConfig:ep.fT}),(0,p.Fs)(r,C.f3(e=>(0,i.jsx)("span",{className:"HAjQF jhw7y",children:e}))),(0,i.jsx)("button",{type:"button",className:"Q2jWP QcIGU",onClick:s,children:(0,i.jsx)(T.uv,{width:16,height:16,fill:"white"})})]}),e7=({username:e,onClose:t})=>{let s=(0,h.useMemo)(eh.Fp,[]),n=(0,ec.d)(t=>s(t,e));return(0,i.jsx)(e9,{textO:(0,p.Fs)(`@${eV.Ne.encode(e)}`,C.zN),responseOption:(0,p.Fs)(n,C.Tj(e=>({src:eS.aD(e.profile_image.medium)}))),aspectRatio:eT.Ew,imgContainerWidth:32,onClose:t})},e6=({searchId:e,onClose:t})=>{let s=(0,h.useMemo)(em.S,[]),n=(0,ec.d)(t=>s(t,e)),r=(0,h.useMemo)(()=>(0,p.Fs)(n,C.Tj(({thumbnail:e})=>({src:e.url}))),[n]);return(0,i.jsx)(e9,{textO:C.dv,responseOption:r,aspectRatio:e8,imgContainerWidth:48,onClose:t})},e5=e=>t=>eB.Kt.match({Keyword:s=>(0,p.Fs)(t,C.Tj(t=>(0,p.Fs)(s,C.YW(()=>ek.B_.mkSearchWithCurrentState(t),e=>ek.B_.mkUserSearchWithCurrentState(t,e)),p.Bb(e)))),Visual:({data:e})=>C.zN(ek.B_.Union.mk.VisualSearch({id:e.id,keywordOption:t}))}),e4=(e,t)=>{let s=s=>(0,p.Fs)(e,eB.Kt.match({Visual:({data:e})=>ek.B_.Union.mk.VisualSearch({id:e.id,keywordOption:C.zN(s)}),Keyword:(0,p.L3)(C.YW(()=>ek.B_.mkSearchWithCurrentState(s),e=>ek.B_.mkUserSearchWithCurrentState(s,e)),p.Bb(t))}));return _({RelatedQuery:(0,p.L3)(l.uY,s),RecentSearch:s,TrendingSearch:s,TrendingTopic:e=>ek.B_.Union.mk.Topic({slug:e.slug}),TrendingCollection:e=>ek.B_.Union.mk.Collection(eo.pM.mk.Public({id:e.id}))})},te=({className:e,recentSearches$:t,handleRemoveThumbnail:s,variant:n,testIds:r,initialInputValue:o})=>{let d=(0,ei.w)(),u=e1(),m=(0,eB.p8)(n),g=e1(),{locale:T}=(0,W.r)(),j=(0,es.Zp)(),S=(0,h.useRef)(null),k=(0,h.useMemo)(()=>(0,p.Fs)(n,eB.KT.match({HomepageHeader:()=>eB.Kt.mk.Keyword(C.dv),Nav:p.D_})),[n]),F=(0,ea.P)(),x=(0,h.useCallback)(()=>{(0,p.Fs)(S.current?.input,e_.st,e=>e.focus())},[]),{inputValue:y,setInputValue:w,decodedInputValue$:R}=c.p.useInputValueState(o),f=el(),N=(0,h.useCallback)(e=>{w(""),f(()=>{x()})},[f,w,x]),{suggestionsQueryOption$:K,inputProps:Q}=l.IT(),[_,V]=(0,en.c)(),B=(0,eC.J)(()=>(0,p.Fs)(V,ev.Tj(e=>e.width),eQ.F(C.nZ(eK.Eq).equals))),E=(0,ec.d)(eu.yY),D=(0,ec.d)(eu.nw),P=(0,eC.J)(()=>eQ.of(D)),I=(0,er.h6)(),H=(0,eC.J)(e=>eq({modeTag$:(0,p.Fs)(e,eQ.Tj(([e])=>e),eQ.F()),suggestionsQueryOption$:K,formWidthOption$:B,recentSearches$:t,defaultSuggestions$:(0,p.Fs)(e,eQ.Tj(([,e])=>e),eQ.F()),trendingCollectionsOption$:P})(I),[(0,eB.kM)(k),E]),J=(0,ey.C)(H,[]),[M,U]=(0,ew.O)(e=>(0,p.Fs)(e,eQ.Mi(e=>e.preventDefault()))),[q,z]=(0,ew.O)(p.D_,e=>e[1]);(0,eR.R)(z,({method:e})=>{"enter"===e&&(0,p.Fs)(S.current?.input,e_.st,e=>{e.blur()})});let $=(0,eC.J)(()=>(0,p.Fs)(U,eQ.EY(R,(e,t)=>t)));(0,eR.R)(z,({suggestion:e})=>{let t=Y(e),s=O(e);(0,eB.wb)(k)&&(0,p.Fs)([C.zN(a.rc.mk.Track(s([t,n]))),C.SQ(L(e))(()=>a.rc.mk.Track(b.Jh.mk.SearchFormSubmission([t,n])))],eb.oE,e=>{e.forEach(d)}),(0,p.Fs)(eg.b0({routeData:e4(k,F)(e),locale:T,queryData:{}}),j)}),(0,eR.R)($,e=>{(0,eB.wb)(k)&&(0,p.Fs)(e,C.XF(e=>{d(a.rc.mk.Track(b.Jh.mk.SearchFormSubmission([e,n])))})),(0,p.Fs)(k,e5(F)(e),C.XF(e=>(0,p.Fs)(eg.b0({routeData:e,locale:T,queryData:{}}),j)))});let A=(0,ef.u)(R),Z=(0,ed.Y0)();return(0,i.jsxs)(eO,{"data-testid":r.form,className:e,variant:n,ref:_,onSubmit:M,shouldRenderClearButton:C.Ru(A),onClear:N,method:"get",role:"search","aria-label":g.formAccessibilityLabel(),action:(0,p.Fs)(k,eB.Kt.match({Keyword:()=>`/${eF.FK}`,Visual:({data:e})=>eg.b0({routeData:ek.B_.Union.mk.VisualSearch({id:e.id,keywordOption:C.dv}),locale:T,queryData:{}})})),children:[(0,p.Fs)(k,eB.Kt.match({Keyword:C.YW(()=>(0,i.jsx)(e2,{"data-testid":r.button,theme:m}),e=>(0,i.jsx)(e7,{username:e,onClose:()=>{s(A),x()}})),Visual:({data:e})=>(0,i.jsx)(e6,{searchId:e.id,onClose:()=>{s(A),x()}})})),(0,i.jsx)(et,{...Q,sections:J,placeholder:e3(T)(k)(Z),title:u.keywordSearchButtonTitle(),name:(0,p.Fs)(k,eB.Kt.match({Keyword:()=>eN.JV,Visual:()=>eN.AZ})),required:(0,eB.wb)(k),theme:m,testId:r.input,inputValue:y,onChange:l._d(w),onSuggestionSelected:q,autosuggestRef:S}),(0,p.Fs)(k,eB.Kt.match({Keyword:C.f3(e=>(0,i.jsx)("input",{type:"hidden",name:eN.cN,value:eV.Ne.encode(e)})),[v._]:()=>null}))]})};te.displayName="SearchForm"}}]);